<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Caldeu de Numerologia Completo</title>
    <style>
        /* Seus estilos CSS */
        /* A parte de estilos CSS permanece igual. N√£o fiz altera√ß√µes aqui para manter o layout. */
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÆ Mapa Caldeu de Numerologia Completo</h1>
        <p class="subtitle">Descubra as vibra√ß√µes que moldam seu destino</p>

        <div class="input-section">
            <h2>üìä Insira seus Dados</h2>
            <div class="input-group">
                <label for="dobInput">Data de Nascimento:</label>
                <input type="date" id="dobInput">
            </div>
            <button class="calculate-button" onclick="calculateAll()">Calcular Mapa Numerol√≥gico</button>
        </div>

        <div id="resultsSection" class="results-section" style="display: none;">
            <h2>‚ú® Seu Mapa Numerol√≥gico ‚ú®</h2>
            <div id="specialNumbersSection" style="display: none;">
                <h3>üî¢ Seus N√∫meros Especiais</h3>
                <div id="favorableResult" class="result-block"></div>
                <div id="harmonizingResult" class="result-block"></div>
                <div id="incompatibleResult" class="result-block"></div>
            </div>
        </div>
    </div>

    <script>
        // Defini√ß√£o dos n√∫meros favor√°veis, harmonizados e incompat√≠veis
        const numerosFavoraveis = {
            "1-1": [1,5], "1-2": [1,6], "1-3": [5,6], "1-4": [1,5], "1-5": [5,6], "1-6": [1,6], "1-7": [1,7], "1-8": [1,3], "1-9": [6,9], "1-10": [1,5],
            "2-1": [2,7], "2-2": [2,7], "2-3": [3,6], "2-4": [2,7], "2-5": [3,6], "2-6": [1,6], "2-7": [3,7], "2-8": [2,3], "2-9": [1,6], "2-10": [2,7]
            // Continue as entradas para outros dias e meses...
        };

        const numerosHarmonizam = {
            1: [3,4,9],
            2: [1,2,3,4,5,6,7,8,9],
            3: [2,4,6,7,9],
            4: [2,5,6,7,8,9],
            5: [2,4,5,7,8,9],
            6: [2,3,5,6,9],
            7: [2,4,5,7,8,9],
            8: [1,2,3,5,6,8,9],
            9: [1,2,3,5,6,8,9]
        };

        const numerosIncompativeis = {
            1: [5,7],
            2: [4,8],
            3: [3,8],
            4: [1,6,8],
            5: [2,7,8],
            6: [1,4,7,8],
            7: [1,6,8],
            8: [1,2,3,5,6,8,9],
            9: [4,7]
        };

        // Fun√ß√£o para reduzir o n√∫mero, somando os d√≠gitos at√© que o n√∫mero seja menor ou igual a 9
        function reduceNumber(num) {
            let currentNum = num;
            const masterNumbers = [11, 22, 33];

            if (masterNumbers.includes(currentNum)) {
                return currentNum;
            }

            while (currentNum > 9) {
                let digits = currentNum.toString().split('');
                let sum = digits.reduce((acc, digit) => acc + parseInt(digit), 0);
                currentNum = sum;
            }

            return currentNum;
        }

        // Fun√ß√£o para calcular os n√∫meros especiais
        function getSpecialNumbers(dob) {
            if (!dob) return null;
            
            const [year, month, day] = dob.split('-').map(Number);
            
            // Reduzir o n√∫mero do dia
            const reducedDay = reduceNumber(day);
            // Obter os n√∫meros da sorte
            const chave = `${month}-${day}`;
            const favoraveis = numerosFavoraveis[chave] || [];
            
            // N√∫meros harmonizados e incompat√≠veis
            const harmonizam = numerosHarmonizam[reducedDay] || [];
            const incompativeis = numerosIncompativeis[reducedDay] || [];

            return {
                mes: month,
                dia: day,
                favoraveis: favoraveis,
                harmonizam: harmonizam,
                incompativeis: incompativeis
            };
        }

        // Exibi√ß√£o dos resultados
        function displaySpecialNumbers(data) {
            const favorableContainer = document.getElementById('favorableResult');
            const harmonizingContainer = document.getElementById('harmonizingResult');
            const incompatibleContainer = document.getElementById('incompatibleResult');

            // Exibindo n√∫meros favor√°veis
            let favorableHtml = '';
            data.favoraveis.forEach(num => {
                favorableHtml += `<div class="favorable-number-item">${num}</div>`;
            });
            favorableContainer.innerHTML = `
                <h4>üíõ N√öMEROS DA SORTE</h4>
                <p>Para quem nasceu no dia ${data.dia} do m√™s ${data.mes}</p>
                <div class="numbers-grid">${favorableHtml}</div>
            `;

            // Exibindo n√∫meros harmonizados
            let harmonizingHtml = '';
            data.harmonizam.forEach(num => {
                harmonizingHtml += `<div class="harmonizing-number-item">${num}</div>`;
            });
            harmonizingContainer.innerHTML = `
                <h4>üíö N√öMEROS QUE SE HARMONIZAM</h4>
                <p>Para quem nasceu no dia ${data.dia} (reduzido: ${reduceNumber(data.dia)})</p>
                <div class="numbers-grid">${harmonizingHtml}</div>
            `;

            // Exibindo n√∫meros incompat√≠veis
            let incompatibleHtml = '';
            data.incompativeis.forEach(num => {
                incompatibleHtml += `<div class="incompatible-number-item">${num}</div>`;
            });
            incompatibleContainer.innerHTML = `
                <h4>‚ùå N√öMEROS INCOMPAT√çVEIS</h4>
                <p>Para quem nasceu no dia ${data.dia} (reduzido: ${reduceNumber(data.dia)})</p>
                <div class="numbers-grid">${incompatibleHtml}</div>
            `;
        }

        // Fun√ß√£o de c√°lculo final
        function calculateAll() {
            const dobInput = document.getElementById('dobInput').value;
            const resultsSection = document.getElementById('resultsSection');
            const specialSection = document.getElementById('specialNumbersSection');

            if (!dobInput) {
                alert("Por favor, preencha a data de nascimento para calcular.");
                return;
            }

            resultsSection.style.display = 'block';
            specialSection.style.display = 'block';

            // Calcular n√∫meros especiais
            const specialData = getSpecialNumbers(dobInput);
            displaySpecialNumbers(specialData);
        }

    </script>
</body>
</html>
