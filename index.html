<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Caldeu Completo com Astrologia</title>
    <style>
        /* [Seu CSS existente permanece aqui] */
        
        /* Novos estilos para a seção astrológica */
        .astrology-section {
            margin-top: 25px;
            background: rgba(255, 105, 180, 0.08);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 105, 180, 0.2);
        }
        
        .astrology-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .astrology-box {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 105, 180, 0.3);
        }
        
        .astrology-title {
            color: #ff8cc6;
            font-size: 1.1em;
            margin-bottom: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .astrology-value {
            text-align: center;
            font-size: 1.2em;
            color: #e8e8e8;
            margin-bottom: 5px;
        }
        
        .astrology-desc {
            font-size: 0.9em;
            color: #c9c9c9;
            text-align: center;
            margin-top: 10px;
        }
        
        .zodiac-sign {
            font-size: 1.8em;
            text-align: center;
            margin-bottom: 15px;
            color: #ff66b2;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .astrology-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- [Seu HTML existente permanece aqui] -->
    
    <script>
        // Dados Astrológicos (adicionar ao seu script existente)
        const zodiacData = {
            signs: [
                { 
                    name: "Áries", dateRange: "21 Mar - 19 Abr", 
                    genius: "AMAEL", element: "Fogo", 
                    planet: "Marte", 
                    planetDesc: "Marte, o planeta da ação e da guerra, rege Áries. Representa nossa vitalidade, agressividade, coragem e capacidade de lidar com desafios."
                },
                { 
                    name: "Touro", dateRange: "20 Abr - 20 Mai", 
                    genius: "ASMODAY", element: "Terra", 
                    planet: "Vênus", 
                    planetDesc: "Vênus, o planeta do amor e da beleza, governa Touro. É o planeta do amor, dos relacionamentos, finanças e estilo pessoal."
                },
                { 
                    name: "Gêmeos", dateRange: "21 Mai - 20 Jun", 
                    genius: "AMBRIEL", element: "Ar", 
                    planet: "Mercúrio", 
                    planetDesc: "Mercúrio, o mensageiro dos deuses, rege Gêmeos, dotando este signo de uma mente ágil e comunicativa."
                },
                { 
                    name: "Câncer", dateRange: "21 Jun - 22 Jul", 
                    genius: "MURIEL", element: "Água", 
                    planet: "Lua", 
                    planetDesc: "A Lua, símbolo das emoções e dos ciclos, governa Câncer, fazendo deste signo profundamente sensível e intuitivo."
                },
                { 
                    name: "Leão", dateRange: "23 Jul - 22 Ago", 
                    genius: "VERCHIEL", element: "Fogo", 
                    planet: "Sol", 
                    planetDesc: "O Sol rege Leão porque este signo representa a vitalidade, a expressão pessoal, a criatividade e a liderança."
                },
                { 
                    name: "Virgem", dateRange: "23 Ago - 22 Set", 
                    genius: "HAMALIEL", element: "Terra", 
                    planet: "Mercúrio", 
                    planetDesc: "Mercúrio também rege Virgem, conferindo uma abordagem analítica, detalhista e prática."
                },
                { 
                    name: "Libra", dateRange: "23 Set - 22 Out", 
                    genius: "ANIEL", element: "Ar", 
                    planet: "Vênus", 
                    planetDesc: "Vênus também governa Libra, destacando o amor pela beleza, equilíbrio e relacionamentos harmoniosos."
                },
                { 
                    name: "Escorpião", dateRange: "23 Out - 21 Nov", 
                    genius: "BARBIEL", element: "Água", 
                    planet: "Plutão e Marte", 
                    planetDesc: "Escorpião é governado por Marte e Plutão, trazendo intensidade, transformação, coragem e assertividade."
                },
                { 
                    name: "Sagitário", dateRange: "22 Nov - 21 Dez", 
                    genius: "ADNACHIEL", element: "Fogo", 
                    planet: "Júpiter", 
                    planetDesc: "Júpiter, o planeta da expansão, rege Sagitário, conferindo otimismo, aventura e busca por conhecimento."
                },
                { 
                    name: "Capricórnio", dateRange: "22 Dez - 19 Jan", 
                    genius: "HANAEL", element: "Terra", 
                    planet: "Saturno", 
                    planetDesc: "Saturno, o planeta do tempo e disciplina, governa Capricórnio, instilando seriedade, ambição e perseverança."
                },
                { 
                    name: "Aquário", dateRange: "20 Jan - 18 Fev", 
                    genius: "CAMBRIEL", element: "Ar", 
                    planet: "Urano e Saturno", 
                    planetDesc: "Aquário é regido por Urano (inovação) e Saturno (estrutura), combinando originalidade com pragmatismo."
                },
                { 
                    name: "Peixes", dateRange: "19 Fev - 20 Mar", 
                    genius: "BARCHIEL", element: "Água", 
                    planet: "Netuno e Júpiter", 
                    planetDesc: "Netuno (sonhos) e Júpiter (expansão) regem Peixes, trazendo espiritualidade, sabedoria e conexão emocional."
                }
            ],
            
            elements: {
                "Fogo": "Representa energia, ação e entusiasmo. Os signos de fogo são passionais, dinâmicos e cheios de vitalidade.",
                "Terra": "Simboliza praticidade, estabilidade e materialidade. Os signos de terra são realistas, pacientes e confiáveis.",
                "Ar": "Relacionado ao intelecto, comunicação e liberdade. Os signos de ar são sociáveis, intelectuais e adaptáveis.",
                "Água": "Associado às emoções, intuição e sensibilidade. Os signos de água são empáticos, intuitivos e profundamente emocionais."
            }
        };

        // Função para determinar o signo com base na data
        function getZodiacSign(day, month) {
            const date = new Date(2000, month - 1, day); // Ano 2000 é bissexto (para 29/02)
            
            for (const sign of zodiacData.signs) {
                const [startDay, startMonth] = getDateParts(sign.dateRange.split(" - ")[0]);
                const [endDay, endMonth] = getDateParts(sign.dateRange.split(" - ")[1]);
                
                const startDate = new Date(2000, startMonth - 1, startDay);
                let endDate = new Date(2000, endMonth - 1, endDay);
                
                // Ajuste para Capricórnio (passa o ano novo)
                if (sign.name === "Capricórnio") {
                    endDate = new Date(2001, endMonth - 1, endDay);
                }
                
                if ((date >= startDate && date <= endDate) || 
                    (sign.name === "Capricórnio" && (date >= startDate || date <= endDate))) {
                    return sign;
                }
            }
            return null;
        }

        function getDateParts(dateStr) {
            const parts = dateStr.split(" ");
            return [parseInt(parts[0]), getMonthNumber(parts[1])];
        }

        function getMonthNumber(monthAbbr) {
            const months = {
                "Jan": 1, "Fev": 2, "Mar": 3, "Abr": 4, "Mai": 5, "Jun": 6,
                "Jul": 7, "Ago": 8, "Set": 9, "Out": 10, "Nov": 11, "Dez": 12
            };
            return months[monthAbbr] || 1;
        }

        // Função para exibir informações astrológicas
        function displayAstrologyInfo(day, month) {
            const astrologySection = document.getElementById('astrologyResult');
            if (!astrologySection) return;
            
            const sign = getZodiacSign(day, month);
            if (!sign) {
                astrologySection.style.display = 'none';
                return;
            }
            
            astrologySection.innerHTML = `
                <h3>🔮 Informações Astrológicas</h3>
                <div class="zodiac-sign">${sign.name} (${sign.dateRange})</div>
                <div class="astrology-section">
                    <div class="astrology-grid">
                        <div class="astrology-box">
                            <div class="astrology-title">Gênio</div>
                            <div class="astrology-value">${sign.genius}</div>
                            <div class="astrology-desc">Anjo da guarda deste signo</div>
                        </div>
                        <div class="astrology-box">
                            <div class="astrology-title">Elemento</div>
                            <div class="astrology-value">${sign.element}</div>
                            <div class="astrology-desc">${zodiacData.elements[sign.element]}</div>
                        </div>
                        <div class="astrology-box">
                            <div class="astrology-title">Planeta Regente</div>
                            <div class="astrology-value">${sign.planet}</div>
                            <div class="astrology-desc">${sign.planetDesc}</div>
                        </div>
                    </div>
                </div>
            `;
            astrologySection.style.display = 'block';
        }

        // Atualize a função calculateAll() para incluir:
        function calculateAll() {
            // [Seu código existente...]
            
            if (dobInput) {
                const [year, month, day] = dobInput.split('-').map(Number);
                // ...
                displayAstrologyInfo(day, month);
            }
            
            // [Restante do seu código...]
        }
    </script>
</body>
</html>
